{"version":3,"sources":["StateProvider.js","firebase.js","Header.js","Product.js","Home.js","reducer.js","Subtotal.js","CheckoutProduct.js","Checkout.js","Login.js","axios.js","Payment.js","Order.js","Orders.js","App.js","index.js"],"names":["StateContext","createContext","StateProvider","reducer","initialState","children","Provider","value","useReducer","useStateValue","useContext","db","firebase","initializeApp","apiKey","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","appId","firestore","auth","Header","state","className","to","src","type","user","onClick","signOut","email","split","basket","length","Product","id","title","image","price","rating","dispatch","Array","fill","map","_","i","alt","item","Home","getBasketTotal","reduce","amount","action","console","log","index","findIndex","basketItem","newBasket","splice","warn","Subtotal","history","useHistory","a","renderText","decimalScale","displayType","thousandSeparator","prefix","e","push","CheckoutProduct","forwardRef","ref","hideButton","Checkout","key","Login","useState","setEmail","password","setPassword","onChange","target","preventDefault","signInWithEmailAndPassword","then","catch","error","alert","message","createUserWithEmailAndPassword","instance","axios","create","baseURL","Payment","stripe","useStripe","elements","useElements","succeeded","setSucceeded","processing","setProcessing","setError","disabled","setDisabled","clientSecret","setClientSecret","useEffect","method","url","response","data","getClientSecret","handleSubmit","event","confirmCardPayment","payment_method","card","getElement","CardElement","paymentIntent","collection","doc","uid","set","created","replace","onSubmit","empty","Order","order","moment","unix","format","Orders","orders","setOrders","orderBy","onSnapshot","snapshot","docs","promise","loadStripe","App","onAuthStateChanged","authUser","path","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.8b722ff2.chunk.js","sourcesContent":["import React, {createContext, useContext, useReducer} from 'react';\r\n\r\nexport const StateContext = createContext();\r\n\r\nexport const StateProvider = ({reducer, initialState, children}) => (\r\n    <StateContext.Provider value={useReducer(reducer, initialState)}>\r\n        {children}\r\n    </StateContext.Provider>\r\n);\r\n\r\nexport const useStateValue = () => useContext(StateContext);","import firebase from 'firebase';\r\n\r\nconst firebaseConfig = {\r\n    apiKey: \"AIzaSyCrplrqctE8JAfpe5afe9KPkGg_Bck1JS8\",\r\n    authDomain: \"clone-dfd68.firebaseapp.com\",\r\n    databaseURL: \"https://clone-dfd68.firebaseio.com\",\r\n    projectId: \"clone-dfd68\",\r\n    storageBucket: \"clone-dfd68.appspot.com\",\r\n    messagingSenderId: \"921104895859\",\r\n    appId: \"1:921104895859:web:2f12ee6176b084224ebf06\"\r\n  };\r\n\r\nconst firebaseApp = firebase.initializeApp(firebaseConfig);\r\n\r\nconst db = firebaseApp.firestore();\r\nconst auth = firebase.auth();\r\n\r\nexport { db, auth };","import React from 'react';\r\nimport './Header.css';\r\nimport SearchIcon from '@material-ui/icons/Search';\r\nimport ShoppingBasketIcon from '@material-ui/icons/ShoppingBasket';\r\nimport { Link } from 'react-router-dom';\r\nimport { useStateValue } from './StateProvider';\r\nimport { auth } from './firebase';\r\n\r\nfunction Header() {\r\n\r\n    const [state, dispatch] = useStateValue();\r\n\r\n    const handleAuthentication = () => {\r\n\r\n        if(state.user){\r\n            auth.signOut();\r\n        }\r\n    };\r\n\r\n    return (\r\n        <div className='header'>\r\n            <Link to=\"/\">\r\n                <img\r\n                    className='header__logo'\r\n                    src='https://pngimg.com/uploads/amazon/amazon_PNG11.png'\r\n                />\r\n            </Link>\r\n\r\n\r\n            <div\r\n                className='header__search'\r\n            >\r\n                <input className='header__searchInput' type='text'>\r\n                </input>\r\n\r\n                <SearchIcon className='header__searchIcon' />\r\n            </div>\r\n\r\n            <div className='header__nav'>\r\n                <Link to={ !state.user && '/login'}>\r\n                    <div className='header__option' onClick={handleAuthentication}>\r\n                        <span className='header__optionLineOne'>\r\n                            Hello {state.user ? state.user.email.split(\"@\")[0] : 'Guest'}\r\n                    </span>\r\n\r\n                        <span className='header__optionLineTwo'>\r\n                            {state.user ? 'Sign Out' : 'Sign In'}\r\n                    </span>\r\n                    </div>\r\n                </Link>\r\n\r\n                <Link to={state.user ? '/orders' : '/login'}>\r\n                <div className='header__option'>\r\n                    <span className='header__optionLineOne'>\r\n                        Returns\r\n                    </span>\r\n\r\n                    <span className='header__optionLineTwo'>\r\n                        & Orders\r\n                    </span>\r\n                </div>\r\n                </Link>\r\n\r\n                <div className='header__option'>\r\n                    <span className='header__optionLineOne'>\r\n                        Your\r\n                    </span>\r\n\r\n                    <span className='header__optionLineTwo'>\r\n                        Prime\r\n                    </span>\r\n                </div>\r\n\r\n                <Link to=\"/checkout\">\r\n                    <div className='header__optionBasket'>\r\n                        <ShoppingBasketIcon />\r\n                        <span className=\"header__optionLineTwo header__basketCount\">{state.basket.length}</span>\r\n                    </div>\r\n                </Link>\r\n\r\n\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Header\r\n","import React from 'react';\r\nimport './Product.css';\r\nimport { useStateValue } from './StateProvider';\r\n\r\nfunction Product({ id, title, image, price, rating }) {\r\n\r\n    const [state, dispatch] = useStateValue();\r\n\r\n    const addToBasket = () => {\r\n        dispatch({\r\n            type:'ADD_TO_BASKET',\r\n            item: {\r\n                id: id,\r\n                title: title,\r\n                image: image,\r\n                price: price,\r\n                rating: rating,\r\n            },\r\n        })\r\n    }\r\n\r\n\r\n    return (\r\n        <div className='product'>\r\n            <div className=\"product__info\">\r\n\r\n                <p>{title}</p>\r\n\r\n                <p className=\"product__price\">\r\n                    <small>$</small>\r\n                    <strong>{price}</strong>\r\n                </p>\r\n\r\n                <div className=\"product__rating\">\r\n                   {Array(rating).fill().map((_, i) => \r\n                    <p>ðŸŒŸ</p>\r\n                   )}\r\n                    \r\n                </div>\r\n            </div>\r\n\r\n            <img\r\n                src={image}\r\n                alt=\"\"\r\n            />\r\n\r\n            <button onClick={addToBasket}>Add to Basket</button>\r\n\r\n\r\n\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Product\r\n","import React from 'react';\r\nimport './Home.css';\r\nimport Product from './Product';\r\n\r\nfunction Home() {\r\n    return (\r\n        <div className='home'>\r\n            <div className='home__container'>\r\n                <img \r\n                    className='home__image'\r\n                    src='https://images-na.ssl-images-amazon.com/images/G/01/AmazonExports/Fuji/2020/May/Hero/Fuji_TallHero_45M_v2_1x._CB432458380_.jpg'\r\n                    alt='amazon-banner'\r\n                />\r\n\r\n                <div className='home__row'>\r\n                    <Product\r\n                        id=\"123456\"\r\n                        title=\"The lean startup\"\r\n                        price={29.99}\r\n                        image=\"https://images-na.ssl-images-amazon.com/images/I/81-QB7nDh4L.jpg\"\r\n                        rating={5}\r\n                    />\r\n                    <Product\r\n                        id=\"123457\"\r\n                        title=\"Kenwood kMix Stand Mixer for Baking, Stylish Kitcen Mixer with K-beater, Dough Hook and Whisk, 5 Litre Glass Bowl\"\r\n                        price={239.99}\r\n                        image=\"https://s12emagst.akamaized.net/products/8171/8170947/images/res_d523ab46a49081765056df22f8d7635d_full.jpg\"\r\n                        rating={4}\r\n                    />\r\n                </div>\r\n\r\n                <div className='home__row'>\r\n                    <Product\r\n                        id=\"123458\"\r\n                        title=\"Samsung LC49RG90 49' Curved LED Gaming Monitor\"\r\n                        price={199.99}\r\n                        image=\"https://images-na.ssl-images-amazon.com/images/I/6125mFrzr6L._AC_SL1000_.jpg\"\r\n                        rating={4}\r\n                    />\r\n                    <Product\r\n                        id=\"123459\"\r\n                        title=\"Amazon Echo | Smart speaker with Alexa, Charcoal Fabric\"\r\n                        price={98.99}\r\n                        image=\"https://www.twinschip.com/image/cache/catalog/Products%20Twins%20Chip%20Store%202020/%20Echo%20Dot%203rd%20Gen%20Smart%20speaker%20with%20Alexa/Alexa%20Echo%20Dot%203rd%20Gen%20Smart%20speaker%20-%20Twins%20Chip%201-550x550w.jpg\"\r\n                        rating={5}\r\n                    />\r\n                    <Product\r\n                        id=\"123460\"\r\n                        title=\"New Apple iPad Pro - Silver\"\r\n                        price={598.99}\r\n                        image=\"https://1.grgs.ro/images/products/1/1765416/1770372/normal/ipad-pro-11-2018-1tb-wi-fi-plus-cellular-silver-c62e55c79a083cc6ead4389f6b61e247.jpg\"\r\n                        rating={4}\r\n                    />\r\n                </div>\r\n\r\n                <div className='home__row'>\r\n                    <Product\r\n                        id=\"3456578\"\r\n                        title=\"Apple Watch Series 3 (GPS, 38mm) - Silver Aluminum Case with White Sport Band\"\r\n                        price={399.99}\r\n                        image=\"https://m.media-amazon.com/images/I/71vCuRn4CkL._AC_UY218_.jpg\"\r\n                        rating={4}\r\n                    />\r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Home\r\n","export const initialState = {\r\n    basket: [],\r\n    user: null\r\n};\r\n\r\nexport const getBasketTotal = (basket) => \r\n    basket?.reduce((amount, item) => item.price + amount, 0);\r\n\r\nconst reducer = (state, action) => {\r\n    console.log(action)\r\n\r\n    switch(action.type) {\r\n        case 'ADD_TO_BASKET':\r\n            return {\r\n                ...state,\r\n                basket: [...state.basket, action.item],\r\n            };\r\n\r\n        case 'REMOVE_FROM_BASKET':\r\n            const index = state.basket.findIndex(basketItem => basketItem.id === action.id);\r\n\r\n            let newBasket = [...state.basket];\r\n\r\n            if(index >= 0){\r\n                newBasket.splice(index, 1);\r\n            } else {\r\n                console.warn(`Can't remove product (id: ${action.id}) as it's not in the basket!`);\r\n            }\r\n\r\n            return {\r\n                ...state,\r\n                basket: newBasket,\r\n            }\r\n\r\n        case 'SET_USER':\r\n            return {\r\n                ...state,\r\n                user: action.user\r\n            }\r\n\r\n        case 'EMPTY_BASKET':\r\n            return {\r\n                ...state,\r\n                basket: []\r\n            }\r\n\r\n\r\n        default:\r\n            return state;\r\n    }\r\n\r\n\r\n\r\n};\r\n\r\nexport default reducer;","import React from 'react';\r\nimport './Subtotal.css';\r\nimport CurrencyFormat from 'react-currency-format';\r\nimport { useStateValue } from './StateProvider';\r\nimport { getBasketTotal } from './reducer';\r\nimport { useHistory } from 'react-router-dom';\r\n\r\nfunction Subtotal() {\r\n\r\n    const history = useHistory();\r\n\r\n    const [state, dispatch] = useStateValue();\r\n\r\n    var total = state.basket.reduce((a, { price }) => a + price, 0);\r\n\r\n    return (\r\n        <div className='subtotal'>\r\n            <CurrencyFormat\r\n                renderText={(value) => (\r\n                    <>\r\n                        <p>\r\n                            Subtotal ({state.basket.length} items):\r\n                            <strong>{value}</strong>\r\n                        </p>\r\n                        <small className=\"subtotal__gift\">\r\n                            <input type=\"checkbox\" /> This order contains a gift\r\n                        </small>\r\n                    </>\r\n                )}\r\n                decimalScale={2}\r\n                value={getBasketTotal(state.basket)}\r\n                displayType={'text'}\r\n                thousandSeparator={true}\r\n                prefix={\"$\"}\r\n            />\r\n\r\n            <button onClick={e => {\r\n                if (state.user) {\r\n                    history.push('/payment');\r\n                } else {\r\n                    history.push('/login');\r\n                }\r\n            }}>Proceed to Checkout</button>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Subtotal\r\n","import React, { forwardRef } from 'react';\r\nimport './CheckoutProduct.css'\r\nimport { useStateValue } from './StateProvider';\r\n\r\nconst CheckoutProduct = forwardRef(({ id, image, title, price, rating, hideButton }, ref) => {\r\n\r\n    const [{basket}, dispatch] = useStateValue();\r\n\r\n\r\n    const removeFromBasket = () => {\r\n        dispatch({\r\n            type: \"REMOVE_FROM_BASKET\",\r\n            id: id,\r\n        });\r\n    }\r\n\r\n    return (\r\n        <div ref={ref} className='checkoutProduct'>\r\n            <img className='checkoutProduct__image' src={image} alt={title} />\r\n            <div className=\"checkoutProduct__info\">\r\n                <p className='checkoutProduct__title'>\r\n                    {title}\r\n                </p>\r\n\r\n                <p className=\"checkoutProduct__price\">\r\n                    <small>\r\n                        $\r\n                    </small>\r\n                    <strong>\r\n                        {price}\r\n                    </strong>\r\n                </p>\r\n\r\n                <div className=\"checkoutProduct__rating\">\r\n                    {Array(rating).fill().map((_, i) => (\r\n                        <p>ðŸŒŸ</p>\r\n                    ))}\r\n                </div>\r\n                {!hideButton && <button onClick={removeFromBasket}>Remove from Basket</button>}\r\n                \r\n            </div>\r\n\r\n        </div>\r\n    )\r\n});\r\n\r\nexport default CheckoutProduct\r\n","import React from 'react'\r\nimport './Checkout.css'\r\nimport Subtotal from './Subtotal'\r\nimport { useStateValue } from './StateProvider'\r\nimport CheckoutProduct from './CheckoutProduct';\r\nimport FlipMove from 'react-flip-move';\r\n\r\n\r\nfunction Checkout() {\r\n\r\n    const [{basket}, dispatch] = useStateValue();\r\n\r\n\r\n    return (\r\n        <div className=\"checkout\">\r\n\r\n            <div className=\"checkout__left\">\r\n                <img className=\"checkout__ad\" src=\"https://gos3.ibcdn.com/top-1568020025.jpg\" alt=\"ad\"/>\r\n\r\n                <div>\r\n                    <h2 className=\"checkout__title\">\r\n                        Your Shopping Basket\r\n                    </h2>\r\n                </div>\r\n\r\n                <FlipMove>\r\n                {basket.map(item => (\r\n                    <CheckoutProduct\r\n                        key={item.id}\r\n                        id={item.id}\r\n                        title={item.title}\r\n                        image={item.image}\r\n                        price={item.price}\r\n                        rating={item.rating}\r\n                    />\r\n                ))}\r\n                </FlipMove>\r\n                \r\n\r\n                {/* <CheckoutProduct/> */}\r\n\r\n            </div>\r\n\r\n            <div className=\"checkout__right\">\r\n                <Subtotal/>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Checkout\r\n","import React, { useState } from 'react'\r\nimport './Login.css'\r\nimport { Link, useHistory } from 'react-router-dom'\r\nimport { auth } from './firebase';\r\n\r\nfunction Login() {\r\n\r\n    const history = useHistory();\r\n    const [email, setEmail] = useState('');\r\n    const [password, setPassword] = useState('');\r\n\r\n    const signIn = e => {\r\n        e.preventDefault();\r\n\r\n        auth\r\n        .signInWithEmailAndPassword(email, password)\r\n        .then( auth => {\r\n            history.push('/');\r\n        })\r\n        .catch(error => alert(error.message));\r\n    }\r\n\r\n    const register = e => {\r\n        e.preventDefault();\r\n\r\n        auth\r\n        .createUserWithEmailAndPassword(email, password)\r\n        .then((auth) => {\r\n            //callback sa ne zica daca o mers smecheria\r\n\r\n            if (auth) {\r\n                history.push('/');\r\n            }\r\n        })\r\n        .catch(error => alert(error.message));\r\n    }\r\n\r\n    return (\r\n        <div className='login'>\r\n            <Link to='/'>\r\n                <img\r\n                    className='login__logo'\r\n                    src=\"https://1000logos.net/wp-content/uploads/2019/07/Amazon-logo-2000%E2%80%93present.jpg\"\r\n                    alt=\"amazon-logo\"\r\n                />\r\n            </Link>\r\n\r\n            <div className=\"login__container\">\r\n                <h1>Sign in</h1>\r\n\r\n                <form action=\"\">\r\n                    <h5>\r\n                        Email\r\n                    </h5>\r\n                    <input\r\n                        type=\"text\"\r\n                        value={email}\r\n                        onChange={e => setEmail(e.target.value)}\r\n                    />\r\n\r\n                    <h5>\r\n                        Password\r\n                    </h5>\r\n                    <input\r\n                        type=\"password\"\r\n                        value={password}\r\n                        onChange={e => setPassword(e.target.value)}\r\n                    />\r\n\r\n                    <button\r\n                        className='login__signInButton'\r\n                        type='submit'\r\n                        onClick={signIn}\r\n                    >\r\n                        Sign In\r\n                    </button>\r\n                </form>\r\n\r\n                <p>\r\n                    By signing-in you agree to the AMAZON FAKE CLONE Conditions of Use & Sale.\r\n                    Please see our Privacy Notice, our Cookies Notice and our Interest-Based Ads Notice.\r\n                </p>\r\n\r\n                <button\r\n                    className='login__registerButton'\r\n                    onClick={register}\r\n                >\r\n                    Create your Amazon account!\r\n                </button>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Login\r\n","import axios from 'axios';\r\n\r\nconst instance = axios.create({\r\n    baseURL: 'https://us-central1-clone-dfd68.cloudfunctions.net/api'\r\n    \r\n    //'http://localhost:5001/clone-dfd68/us-central1/api'\r\n});\r\n\r\nexport default instance;\r\n\r\n//https://us-central1-clone-dfd68.cloudfunctions.net/api\r\n","import React, { useEffect, useState } from 'react';\r\nimport './Payment.css';\r\nimport { useStateValue } from './StateProvider';\r\nimport CheckoutProduct from './CheckoutProduct';\r\nimport { Link, useHistory } from 'react-router-dom';\r\nimport { CardElement, useElements, useStripe } from '@stripe/react-stripe-js';\r\nimport CurrencyFormat from 'react-currency-format';\r\nimport { getBasketTotal } from './reducer';\r\nimport axios from './axios';\r\nimport { db } from './firebase';\r\n\r\nfunction Payment() {\r\n\r\n    const [{ basket, user }, dispatch] = useStateValue();\r\n    const history = useHistory();\r\n\r\n    const stripe = useStripe();\r\n    const elements = useElements();\r\n\r\n    const [succeeded, setSucceeded] = useState(false);\r\n    const [processing, setProcessing] = useState(\"\");\r\n    const [error, setError] = useState(null);\r\n    const [disabled, setDisabled] = useState(true);\r\n    const [clientSecret, setClientSecret] = useState(true);\r\n\r\n    useEffect(() => {\r\n        const getClientSecret = async () => {\r\n            const response = await axios ({\r\n                method: 'post',\r\n                url: `/payments/create?total=${getBasketTotal(basket) * 100}`\r\n            });\r\n            setClientSecret(response.data.clientSecret);\r\n        }\r\n\r\n        getClientSecret();\r\n    }, [basket])\r\n\r\n    console.log('PERSON', user);\r\n\r\n    const handleSubmit = async(event) => {\r\n        //cacat de stripe\r\n        event.preventDefault();\r\n        setProcessing(true);\r\n\r\n        const payload = await stripe.confirmCardPayment(clientSecret, {\r\n            payment_method: {\r\n                card: elements.getElement(CardElement),\r\n            }\r\n        }).then(({paymentIntent}) => {\r\n\r\n\r\n            db\r\n            .collection('users')\r\n            .doc(user?.uid)\r\n            .collection('orders')\r\n            .doc(paymentIntent.id)\r\n            .set({\r\n                basket: basket,\r\n                amount: paymentIntent.amount,\r\n                created: paymentIntent.created,\r\n            });\r\n\r\n\r\n            setSucceeded(true);\r\n            setError(null);\r\n            setProcessing(false);\r\n\r\n            dispatch({\r\n                type: 'EMPTY_BASKET'\r\n            });\r\n\r\n            history.replace('/orders');\r\n        })\r\n    }\r\n\r\n    const handleChange = event => {\r\n        //ascultam fiecare schimbare in timp ce useru scrie cardu\r\n        //si punem pa ecran ce erori are la scriere pana in momentu ala\r\n        setDisabled(event.empty);\r\n        setError(event.error ? event.error.message : \"\");\r\n    }\r\n\r\n    return (\r\n        <div className='payment'>\r\n            <div className=\"payment__container\">\r\n\r\n                <h1>\r\n                    Checkout {<Link to='/checkout'>({basket?.length} items)</Link>}\r\n                </h1>\r\n\r\n                <div className=\"payment__section\">\r\n                    <div className=\"payment__title\">\r\n                        <h3>Delivery Address</h3>\r\n                    </div>\r\n                    <div className=\"payment__address\">\r\n                        <p>{user?.email}</p>\r\n                        <p>123 React Lane</p>\r\n                        <p>Somcuta, SA</p>\r\n                    </div>\r\n\r\n                </div>\r\n\r\n                <div className=\"payment__section\">\r\n                    <div className=\"payment__title\">\r\n                        <h3>Review items and delivery</h3>\r\n                    </div>\r\n\r\n                    <div className=\"payment__items\">\r\n                        {basket.map(item => (\r\n                            <CheckoutProduct\r\n                                key={item.id}\r\n                                id={item.id}\r\n                                title={item.title}\r\n                                image={item.image}\r\n                                price={item.price}\r\n                                rating={item.rating}\r\n                            />\r\n                        ))}\r\n                    </div>\r\n                </div>\r\n\r\n                <div className=\"payment__section\">\r\n                    <div className=\"payment__title\">\r\n                        <h3>Payment Method</h3>\r\n                    </div>\r\n\r\n                    <div className=\"payment__details\">\r\n                        <form onSubmit={handleSubmit}>\r\n                            <CardElement onChange={handleChange} />\r\n\r\n                            <div className=\"payment__priceContainer\">\r\n                                <CurrencyFormat\r\n                                    renderText={(value) => (\r\n                                        <h3>Order Total: {value}</h3>\r\n                                    )}\r\n                                    decimalScale={2}\r\n                                    value={getBasketTotal(basket)}\r\n                                    displayType={'text'}\r\n                                    thousandSeparator={true}\r\n                                    prefix={'$'}\r\n                                />\r\n                                <button\r\n                                    type='submit'\r\n                                    disabled={processing || disabled || succeeded}\r\n                                >\r\n                                    <span>{processing ? <p>Processing</p> : \"Buy Now\"}</span>\r\n                                </button>\r\n                            </div>\r\n\r\n                            {error && <div>{error}</div>}\r\n                        </form>\r\n                    </div>\r\n                </div>\r\n\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Payment\r\n","import React from 'react'\r\nimport './Order.css'\r\nimport moment from 'moment';\r\nimport CheckoutProduct from './CheckoutProduct';\r\nimport CurrencyFormat from 'react-currency-format';\r\n\r\nfunction Order({ order }) {\r\n    return (\r\n        <div className='order'>\r\n            <h2>Order</h2>\r\n            <p>{moment.unix(order.data.created).format('MMMM Do YYYY, h:mma')}</p>\r\n            <p className='order__id'>\r\n                <small>{order.id}</small>\r\n            </p>\r\n\r\n            {order.data.basket?.map(item => (\r\n                <CheckoutProduct\r\n                    key={item.id}\r\n                    id={item.id}\r\n                    title={item.title}\r\n                    image={item.image}\r\n                    price={item.price}\r\n                    rating={item.rating}\r\n                    hideButton\r\n                />\r\n            ))}\r\n            \r\n            <CurrencyFormat\r\n                renderText={(value) => (\r\n                    <h3 className='order__total'>Order Total: {value}</h3>\r\n                )}\r\n                decimalScale={2}\r\n                value={order.data.amount / 100}\r\n                displayType={'text'}\r\n                thousandSeparator={true}\r\n                prefix={'$'}\r\n            />\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Order\r\n","import React, { useEffect, useState } from 'react';\r\nimport { db } from './firebase';\r\nimport Order from './Order';\r\nimport './Orders.css';\r\nimport { useStateValue } from './StateProvider';\r\n\r\nfunction Orders() {\r\n\r\n    const [{ basket, user }, dispatch] = useStateValue();\r\n    const [orders, setOrders] = useState([]);\r\n\r\n    useEffect(() => {\r\n            if (user) {\r\n                db\r\n                    .collection('users')\r\n                    .doc(user?.uid)\r\n                    .collection('orders')\r\n                    .orderBy('created', 'desc')\r\n                    .onSnapshot(snapshot => {\r\n                        setOrders(snapshot.docs.map(doc => ({\r\n                            id: doc.id,\r\n                            data: doc.data()\r\n                        })))\r\n                    })\r\n            } else {\r\n                setOrders([])\r\n            }\r\n\r\n    }, []);\r\n\r\n    console.log(user);\r\n\r\n    return (\r\n        <div className='orders'>\r\n            <h1>Your Orders</h1>\r\n\r\n            <div className=\"orders__order\">\r\n                {orders?.map(order => (\r\n                    <Order\r\n                        order={order}\r\n                    />\r\n                ))}\r\n            </div>\r\n\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Orders\r\n","import React, { useEffect } from 'react';\nimport './App.css';\nimport { BrowserRouter as Router, Switch, Route } from 'react-router-dom';\n\nimport Header from './Header';\nimport Home from './Home';\nimport Checkout from './Checkout';\nimport Login from './Login';\nimport { auth } from './firebase';\nimport { useStateValue } from './StateProvider';\nimport Payment from './Payment';\nimport { loadStripe } from '@stripe/stripe-js';\nimport { Elements } from '@stripe/react-stripe-js';\nimport Orders from './Orders';\n\n\nconst promise = loadStripe('pk_test_51HQ861Gaj7wVKoCghWtn3UeeouuOXYu43hlZrop1BaWKVXp8pf58dga96HDhYAwLSygWOZMOzibEQNsFv620kTzu006b87d9yi');\n\n\nfunction App() {\n\n  const [{ user }, dispatch] = useStateValue();\n\n  useEffect(() => {\n    auth.onAuthStateChanged(authUser => {\n\n      if (authUser) {\n\n        dispatch({\n          type: 'SET_USER',\n          user: authUser\n        });\n\n      } else {\n\n        dispatch({\n          type: 'SET_USER',\n          user: null\n        });\n\n      }\n    })\n  }, []);\n\n\n\n  return (\n    <Router>\n      <div className=\"app\">\n\n        <Switch>\n\n          <Route path=\"/login\">\n            <Login />\n          </Route>\n\n          <Route path=\"/checkout\">\n            <Header />\n            <Checkout />\n          </Route>\n\n          <Route path=\"/payment\">\n            <Header />\n            <Elements stripe={promise}>\n              <Payment />\n            </Elements>\n          </Route>\n\n          <Route path=\"/orders\">\n            <Header />\n            <Orders />\n          </Route>\n\n          <Route path=\"/\">\n            <Header />\n            <Home />\n          </Route>\n\n\n        </Switch>\n\n      </div>\n    </Router>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reducer, { initialState } from './reducer';\nimport { StateProvider } from './StateProvider';\n\nReactDOM.render(\n  <React.StrictMode>\n    <StateProvider initialState={initialState} reducer={reducer}>\n      <App />\n    </StateProvider>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n"],"sourceRoot":""}